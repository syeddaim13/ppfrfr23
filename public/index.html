<html>
    <head>
        <title>23PPFRFR</title>
        <script lang="javascript">
            function run() {
                subject = document.getElementById("subject").value
                paper = document.getElementById("paper").value
                month = document.getElementById("month").value
                year = document.getElementById("year").value
                type = document.getElementById("type").value
                variant = document.getElementById("variant").value

                switch (subject) {
                    case "Math":
                        subjectcode = "9709"
                        break;
                    case "IT":
                        subjectcode = "9626"
                        break;
                    default:
                        alert("Error in switch. Please report this.");
                }
                switch (month) {
                    case "june":
                        monthcode = "s"
                        break;
                    case "november":
                        monthcode = "w"
                        break;
                    case "march":
                        monthcode = "m"
                        break;
                    default:
                        alert("Error in month switch. Please report this.");
                }
                console.log(subjectcode)

                // temporary if condition for valid subjects start
                if (subject != "Math" && subject != "IT") {
                    alert("whatever you've picked isn't available yet. SUBERR")
                    location.reload()
                }
                else if (subject == "Math" && paper != '5') {
                    alert("whatever you've picked isn't available yet. MATHPPRERR")
                    location.reload()
                }
                //temporary if condition end
                else if (type == "sf" && subject != "IT") {
                    alert("uhh....are you sure you want SOURCE FILES? smh non IT ppl.")  //check if IT & sf picked
                }
                else if (type == "sf" && monthcode == "m" && variant != "1") {
                    alert("You're an IT student, but can't read the menu that TELLS YOU TO PICK VARIANT ONE FOR MARCH. try again.") //check if sf picked with march and non 1 variant
                    location.reload()
                }
                else if (type == "sf") {
                    window.location.href = '/'+subject+'/'+paper+'/'+subjectcode+'_'+monthcode+year+'_'+type+'_'+paper+variant+'.zip'; //link for sf
                }

                else if (monthcode == "m" && variant != "1") { //validate march variant
                    alert("You want a March paper, yet picked a variant that is not equal to 1. This is shameful. We're redirecting you to variant 1 anyway.")
                    window.location.href = '/'+subject+'/'+paper+'/'+subjectcode+'_'+monthcode+year+'_'+type+'_'+paper+'1'+'.pdf';
                } else {
                    window.location.href = '/'+subject+'/'+paper+'/'+subjectcode+'_'+monthcode+year+'_'+type+'_'+paper+variant+'.pdf';
                }
                
                
            }
        </script>
    </head>
    <body>
        <h1>Welcome to 23PPFRFR made by your class for your class</h1>
        <p>The most efficient past paper website.</p>
        <label for="subject">Choose a subject:&nbsp;</label>

        <select name="subject" id="subject">
        <option value="Math">Mathematics 9709</option>
        <option value="IT">Information Technology 9626</option>
        </select>
        <br />
        <label for="paper">Choose a paper: &nbsp;&nbsp;</label>

        <select name="paper" id="paper">
        <option value="3">Paper 3</option>
        <option value="4">Paper 4</option>
        <option value="5">Paper 5</option>
        </select>
        <br />
        <label for="month">Choose a month:&nbsp;&nbsp;</label>

        <select name="month" id="month">
        <option value="march">March</option>
        <option value="june">June</option>
        <option value="november">November</option>
        </select>
        <br />
        <label for="year">Choose a year: &nbsp;&nbsp;</label>

        <select name="year" id="year">
        <option value="17">2017</option>
        <option value="18">2018</option>
        <option value="19">2019</option>
        <option value="20">2020</option>
        <option value="21">2021</option>
        <option value="22">2022</option>
        </select>
        <br />
        <label for="year">Choose a variant: &nbsp;&nbsp;</label>

        <select name="variant" id="variant">
        <option value="1">Variant 1 (and all March papers)</option>
        <option value="2">Variant 2</option>
        <option value="3">Variant 3</option>
        </select>
        <br />
        <select name="type" id="type">
            <option value="qp">Question Paper</option>
            <option value="ms">Marking Scheme</option>
            <option value="sf">Source Files</option>
            </select>
            <br />
        <input type="submit" value="Submit" onclick="run()">

        <br>
        <br>
        <p>Currently available:</p>
        <li>Math Paper 5</li>
        <li>IT Paper 3 and 4 (2022 and 2021)</li>
    </body>
</html>